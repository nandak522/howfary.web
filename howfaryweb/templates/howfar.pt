<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="base">
    <tal:block metal:fill-slot="title">Distance Calculator</tal:block>
    <tal:block metal:fill-slot="body">
        <form name='howfaryForm' ng-controller="formController">
            <label for='source'>Source</label>
            <input name='source' type='text' value='${source}' ng-model='source' required/><br/><br/>
            <label for='destination'>Destination</label>
            <input name='destination' type='text' value='${destination}' ng-model='destination' required/><br/><br/>
            <button type='submit' class="btn btn-primary" ng-disabled='howfaryForm.$invalid'>How Far ?</button>
            <span></span>
        </form>
        <tal:block tal:condition="exists:result">
        <div id='result' ng-model='result'>
            <h1>
            Distance : ${result.distance}<br/>
            Duration : ${result.duration}<br/>
            </h1>
        </div>
        </tal:block>
        <br/>
        <tal:block tal:condition="exists:all_journies">
        <div id='all_journies'>
            <table class='table table-striped'>
                <thead>
                    <tr>
                        <th>Source</th><th>Destination</th><th>Distance</th><th>Duration</th>
                    </tr>
                </thead>

                <tal-in tal:repeat="journey all_journies">
                    <tr>
                        <td>${journey.source}</td><td>${journey.destination}</td><td>${journey.distance}</td><td>${journey.duration}</td>
                    </tr>
                </tal-in>
            </table>
        </div>
        </tal:block>
    </tal:block>
</html>
